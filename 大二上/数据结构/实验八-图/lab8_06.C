/***************************************/
/*             ??????????            */
/***************************************/
#include<stdlib.h>
#include<stdio.h>
#define M 20
typedef char vertextype;
typedef struct node{      /*???????????*/
      int adjvex;
      struct node *next;
  }edgenode;
typedef struct de         /*????????????????*/
  {
   edgenode* FirstEdge;
   vertextype vertex;
   int id;                /*??????????*/
  }vertexnode;

typedef struct{           /*AOV???????????*/
      vertexnode adjlist[M];
      int n,e;
      }AovGraph;

void  creat(AovGraph *g,char *filename)       /*????AOV?????›¥??*/
 { int i,j,k;
   edgenode  *s;
   FILE *fp;
   fp=fopen(filename,"r");
   if (fp)
   {
   fscanf(fp,"%d%d",&g->n,&g->e);  /*??????§Ö???????????*/

   for(i=0;i<g->n;i++)                        /*???????*/
      {fscanf(fp,"%1s",&g->adjlist[i].vertex);
       g->adjlist[i].FirstEdge=NULL;
       g->adjlist[i].id=0;       /*????????0*/
      }
   for(k=0;k<g->e;k++)
        { fscanf(fp,"%d%d",&i,&j);
         s=(edgenode*)malloc(sizeof(edgenode));
         s->adjvex=j;
         g->adjlist[j].id++;    /*????j??????1*/
         s->next=g->adjlist[i].FirstEdge;
         g->adjlist[i].FirstEdge=s;
        }
   }
 }

void print(AovGraph g)
{  edgenode *p;
   int i;
  for (i=0;i<g.n;i++)
   { printf("%c %d   ", g.adjlist[i].vertex,g.adjlist[i].id);
     p=g.adjlist[i].FirstEdge;
     while (p)
      { printf("%d-->",p->adjvex);
        p=p->next;
      }
     printf("\n");
   }
}
/*?????????????????
??????????AOV???????›¥??????g
??????????????????????????????
*/
int TopSort(AovGraph g)
 {int k=0,i,j,v, flag[M];
   int queue[M];  /*????*/
   int h=0,t=0;
   edgenode* p;
   for (i=0;i<g.n;i++)  flag[i]=0;  /*??????????*/
    /*???????????0???????*/
    /*???????????*/





    return k;  //???????????????
 }
int main()
{ int k=0;
  AovGraph g;
  creat(&g,"aov.txt");    /*?????8.25?????AOV??????????aov.txt*/
  printf("\n?8.27???AOV???????????\n");
  print(g);
  k=TopSort(g);
  if(k<g.n) printf("\n??????????\n");
  return 0;
}
